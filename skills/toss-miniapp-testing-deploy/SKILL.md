---
description: "앱인토스 미니앱 개발 시 테스트, 샌드박스 앱 설치/사용, Android/iOS 환경 세팅(에뮬레이터, 시뮬레이터, adb), 토스앱에서의 QR 테스트 및 번들 업로드, React Native/WebView 디버깅, 미니앱 배포/출시/롤백/핫픽스, 앱 내 기능 등록, 정산 및 수수료 구조에 대해 질문할 때 사용하세요."
---

# 앱인토스 테스트, 디버깅, 배포, 앱 기능 등록, 정산 가이드

---

## 목차

1. [테스트앱 (샌드박스)](#1-테스트앱-샌드박스)
2. [Android 환경설정](#2-android-환경설정)
3. [iOS 환경설정](#3-ios-환경설정)
4. [토스앱 테스트 (번들 업로드 및 QR 테스트)](#4-토스앱-테스트-번들-업로드-및-qr-테스트)
5. [디버깅 - React Native](#5-디버깅---react-native)
6. [디버깅 - WebView](#6-디버깅---webview)
7. [미니앱 출시 (배포)](#7-미니앱-출시-배포)
8. [앱 내 기능 등록](#8-앱-내-기능-등록)
9. [정산](#9-정산)

---

## 1. 테스트앱 (샌드박스)

> 원본 URL: https://developers-apps-in-toss.toss.im/development/test/sandbox.md

앱인토스는 개발용 토스앱을 별도로 제공하지 않아요.
대신 **전용 샌드박스 앱**을 통해 개발·테스트 환경을 구성할 수 있어요.

> **반드시 확인해주세요**
> 실서비스 출시 전, 샌드박스 앱에서 기능 검증을 완료해야 해요.
> 샌드박스 앱에서 테스트를 완료했더라도, 출시 검수에서 가이드에 위반한 사항이 있다면 반려될 수 있어요.

### 샌드박스 앱이란?

앱인토스는 토스앱 안에서 파트너사의 서비스를 **앱인앱(App-in-App)** 형태로 제공해요.
별도의 개발용 토스앱 대신, **개발·QA 전용 샌드박스 앱**을 통해 연동 테스트를 진행할 수 있어요.

샌드박스 앱을 설치한 뒤 아래 순서로 개발을 시작하세요.

1. 로그인
2. 앱 선택
3. 스킴(URL) 접속

| 구분        | 빌드번호   |
| ----------- | ---------- |
| Android     | 2026-01-26 |
| iOS         | 2026-01-26 |
| iOS(실기기) | 2025-11-11 |

> **App Transport Security (ATS)**
> App Transport Security(ATS) 정책 위반을 방지하기 위해 **샌드박스 앱에서는 http 통신이 허용**돼요.
> 단, 라이브 환경에서는 **https만 지원**되므로, http 기반 기능은 샌드박스에서만 정상 동작해요.

### 지원 OS 버전

OS의 최신 기능과 보안 개선 사항을 적용하기 위해, 최신 버전 환경 사용을 권장합니다.

| 구분    | 버전      |
| ------- | --------- |
| Android | Android 7 |
| iOS     | iOS 16    |

### 샌드박스 앱 사용하기

#### 1. 최신 버전 설치

샌드박스 앱은 수시로 업데이트돼요. 오류가 보이면 **최신 버전으로 업데이트**해 주세요.

#### 2. 개발자 로그인

콘솔에서 사용하는 토스 비즈니스 계정으로 로그인하세요.
토스 비즈니스 가입이 필요하다면 콘솔에서 앱 등록하기를 확인해 주세요.

#### 3. 앱 선택

소속된 워크스페이스의 앱 목록이 노출돼요. **테스트할 앱**을 선택하세요.

#### 4. 토스 인증

콘솔에 등록한 **토스 계정**으로 본인 인증을 진행해요.
해당 계정의 **토스앱이 설치된 스마트폰**에서 푸시를 열어 인증을 완료해 주세요.

#### 5. 앱 스킴(URL)로 접속

접속할 스킴을 입력하면 미니앱이 실행돼요.

```
intoss://{appName}
```

### 샌드박스에서 테스트 가능한 기능

샌드박스에서 바로 확인 가능한 항목이에요.
샌드박스에서 미지원인 경우에는 콘솔 '출시하기'의 QR 코드로 토스앱에서 테스트해 주세요.

| 기능                   | 테스트 가능 여부                 |
| ---------------------- | -------------------------------- |
| 토스 로그인            | 가능                             |
| 게임 로그인            | 가능 (단, mock 데이터 내려감)    |
| 토스 페이              | 가능                             |
| 인앱 결제              | 가능                             |
| 게임 프로필 & 리더보드 | 가능                             |
| 분석                   | 불가능                           |
| 공유 리워드            | 불가능                           |
| 인앱 광고              | 불가능                           |
| 가로 버전 게임         | 불가능                           |
| 내비게이션 바 공유하기 | 불가능                           |

### 자주 묻는 질문

**Q: 샌드박스에서 테스트 진행이 잘 안돼요.**
A: 샌드박스 개발자 로그인을 진행해 주세요.

---

## 2. Android 환경설정

> 원본 URL: https://developers-apps-in-toss.toss.im/development/client/android.md

React Native 개발을 위해 **Android 개발 환경 설정 방법**을 안내해요.

### 1. Android Studio 설치

React Native를 Android 환경에서 실행하려면 **Android SDK**와 [`adb`(Android Debug Bridge)](https://developer.android.com/tools/adb?hl=ko#howadbworks)가 필요해요.
먼저, 아래 링크를 통해 Android Studio를 설치하세요.

- [Android Studio 설치 링크](https://developer.android.com/studio?hl=ko)

### 2. Android SDK Command-line Tools 설치

Android SDK Command-line Tools를 설치하려면 다음 단계를 따라 진행하세요.

1. Android Studio를 열고 상단 메뉴에서 **[Android Studio] > [Settings]** 를 클릭하세요.
2. 왼쪽 메뉴에서 **[Languages & Frameworks] > [Android SDK]** 를 선택하세요.
3. **[SDK Tools]** 탭에서 "Android SDK Command-line Tools"를 체크하고 "OK" 버튼을 눌러 설치하세요.

### 3. 환경 변수 설정

`adb`를 사용하려면 환경 변수를 설정해야 해요.

#### macOS

사용 중인 셸의 초기화 스크립트(`.zshrc` 또는 `.bashrc`)에 다음 내용을 추가하세요.

```bash
export ANDROID_HOME=~/Library/Android/sdk
export PATH=$PATH:$ANDROID_HOME/tools:$ANDROID_HOME/tools/bin:$ANDROID_HOME/platform-tools
```

#### Windows

**1. 실행 프롬프트 열기**

`Windows` + `R` 키를 눌러 실행 창을 열고 `SystemPropertiesAdvanced`를 입력한 뒤 **Enter** 키를 눌러주세요.

**2. 환경 변수 메뉴로 진입하기**

[시스템 속성] 창에서 [고급] 탭을 선택하고, 하단의 [환경 변수] 버튼을 눌러주세요.

**3. 사용자 변수에서 `Path` 편집**

사용자 변수 섹션에서 `Path` 변수를 선택한 뒤 [편집] 버튼을 눌러주세요.

> 만약 `Path` 변수가 없다면, [새로 만들기] 버튼을 눌러 새 변수를 생성하고 이름을 `Path`로 설정하면 돼요.

**4. Android SDK 경로 추가하기**

편집 창에서 [새로 만들기] 버튼을 눌러 다음 경로를 추가하세요.

`C:\Users\{사용자명}\AppData\Local\Android\sdk\platform-tools`

여기서 `{사용자명}`은 현재 Windows 사용자 계정 이름으로 바꿔 입력해야 해요.

#### 설정 확인

환경 변수가 정상적으로 등록되었는지 아래 명령어로 확인하세요.

```shell
adb version
# Android Debug Bridge version 1.0.41
# Version 33.0.2-8557947
# Installed as /Users/heecheol.kim/Library/Android/sdk/platform-tools/adb
```

정상적으로 버전이 출력되면 `adb` 설정이 완료되었어요.
자세한 내용은 [Android 공식 문서 - 환경 변수](https://developer.android.com/tools/variables?hl=ko#android_home)를 참고하세요.

### 4. 기기 연결

PC와 Android 기기를 연결하는 방법을 안내해요. 이 문서를 따라 [adb(Android Debug Bridge)](https://developer.android.com/tools/adb?hl=ko#howadbworks)를 사용해서 기기와 통신할 수 있어요.

#### 개발자 옵션 활성화

> 기기 제조사에 따라 개발자 옵션을 활성화하는 방법이 다를 수 있어요. 사용 중인 기기의 제조사별 가이드는 인터넷 검색으로 확인하세요.

**갤럭시 기기 기준**

1. [설정] 앱 열기
2. [휴대전화 정보] > [소프트웨어 정보] 메뉴로 이동
3. [빌드 번호] 항목을 빠르게 여러번 탭하기

자세한 방법은 [삼성 지원 홈페이지](https://www.samsung.com/uk/support/mobile-devices/how-do-i-turn-on-the-developer-options-menu-on-my-samsung-galaxy-device)에서 확인할 수 있어요.

#### USB 디버깅 활성화

개발자 옵션이 활성화되었다면, 이제 USB 디버깅 옵션을 활성화해 주세요.

1. [설정] 앱을 열어주세요.
2. [개발자 옵션] 메뉴로 이동해주세요.
3. [USB 디버깅] 항목을 활성화 해주세요.

#### PC와 기기 연결하기

USB 케이블로 PC와 기기를 연결한 뒤, 다음 명령어를 실행해 기기가 정상적으로 연결되었는지 확인해 주세요.

```shell
adb devices
# * daemon not running; starting now at tcp:5037
# * daemon started successfully
# List of devices attached
# R3CTA0BMCPK	device
```

제대로 연결되었다면 **"List of devices attached"** 아래에 기기의 디바이스 아이디가 표시돼요. 다음 예시에서는 `R3CTA0BMCPK`가 디바이스 아이디예요.

**디바이스 아이디가 표시되지 않는다면?**

다음 사항들을 확인해주세요.

- **USB 디버깅 활성화하기**: Android 기기에서 [설정] > [개발자 옵션] > [USB 디버깅]이 활성화 되어있는지 확인해요.
- **ADB 서버 재시작하기**: `adb kill-server` 명령어를 실행한 후 다시 `adb devices` 명령어로 연결 상태를 확인해요.

### 5. 에뮬레이터 설정

Android 에뮬레이터는 실제 기기처럼 동작하며, React Native 화면을 테스트할 수 있는 유용한 도구예요.

> 디버깅과 QA는 가능한 **실제 기기**에서 진행하는 것을 권장합니다.

#### 1. Android Studio에서 에뮬레이터 추가 설정 화면 열기

Android Studio를 실행한 후 오른쪽 메뉴에서 [Virtual Device Manager] > [+ 버튼]을 순서대로 클릭해 주세요.

#### 2. 에뮬레이터 추가하기

테스트 환경은 실제 사용자 환경과 비슷하게 설정하는 게 좋아요. 아래는 "갤럭시 S23"과 비슷한 에뮬레이터를 만드는 방법이에요.

**갤럭시 S23 사양**
- 디스플레이: 6.1인치
- 운영체제: API 33부터 지원 (예시에서는 API 35 사용)

[Pixel 8a] > [VanilaIceCream (API 35)] > [AVD Name 설정] 순으로 진행하면 에뮬레이터 설정을 완료할 수 있어요.

### 6. 에뮬레이터 실행

추가한 에뮬레이터 목록을 확인할 수 있고, 원하는 에뮬레이터를 바로 실행할 수 있어요.

#### 1. Android Studio에서 에뮬레이터 목록 확인하기

Android Studio를 실행한 후 오른쪽 메뉴에서 [Virtual Device Manager]를 클릭해 주세요.

#### 2. 에뮬레이터 실행하기

실행하고자 하는 에뮬레이터를 확인한 뒤, 재생 버튼을 눌러 실행할 수 있어요.

### 7. 앱인토스 샌드박스 앱 설치 (Android)

실제 기기와 에뮬레이터에서 같은 APK 파일을 사용해요.

- [앱인토스 샌드박스 앱 다운로드](/development/test/sandbox)

#### 방법 1: Android Studio에서 설치

1. Android Studio에서 오른쪽 메뉴의 [Device Manager]에 연결된 기기가 표시되는지 확인해요.
2. 연결된 기기의 오른쪽에 있는 [Start Mirroring] 버튼을 클릭하면 기기 화면을 Android Studio에 표시할 수 있어요.
3. 다운로드한 앱인토스 샌드박스 앱 APK 파일을 끌고 와서 기기에 설치할 수 있어요.

#### 방법 2: `adb` 명령어로 설치

1. 터미널에서 APK 파일이 있는 폴더로 이동해요.
2. 아래 명령어로 APK 파일을 설치해요.

```shell
adb install -r -t {파일이름}
```

예를 들어, 파일 이름이 `apssintoss-debug.apk`라면 아래 명령어를 사용해요.

```shell
adb install -r -t apssintoss-debug.apk
```

---

## 3. iOS 환경설정

> 원본 URL: https://developers-apps-in-toss.toss.im/development/client/ios.md

React Native 앱을 개발하기 위해 **iOS 개발 환경 설정 방법**을 안내해요.

> **iOS의 서드파티 쿠키 차단 정책**
> iOS/iPadOS 13.4 이상에서는 **서드파티 쿠키가 완전히 차단**돼요.
> 앱인토스 도메인이 아닌 파트너사 도메인에서 **쿠키 기반 로그인**을 구현하면 정상 동작하지 않아요.
>
> - 공식 안내: [Full third-party cookie blocking](https://webkit.org/blog/10218/full-third-party-cookie-blocking-and-more/)
> - **토큰 기반 등 대체 인증 방식**을 적용해주세요.

### 1. XCode 설치

iOS에서 React Native 앱을 테스트하려면 iOS 시뮬레이터가 필요해요. 시뮬레이터를 사용하려면 먼저 **Xcode**를 설치해 주세요.

- [XCode 최신버전 다운로드 링크](https://apps.apple.com/kr/app/xcode/id497799835?mt=12)를 클릭해서 Mac App Store에서 설치해 주세요.

### 2. iOS 컴포넌트 설치

Xcode를 처음 설치한 경우, iOS 시뮬레이터를 사용하려면 iOS 15 이상의 컴포넌트를 추가로 설치해야 해요.
아래와 같은 창이 표시되면 iOS를 선택해 설치해 주세요.

### 3. XCode Command Line Tools 설치

Xcode를 제대로 사용하려면 **Xcode Command Line Tools**가 설치되어야 하며, **Xcode 본체와 버전이 동일해야** 해요. 아래 단계를 따라 확인해 보세요.

**XCode 버전 확인하기**

1. XCode를 열고 상단 메뉴에서 [XCode] > [About XCode] 를 클릭하세요.
2. 화면에 표시된 버전을 확인하세요.

**XCode Command Line Tools 버전 확인하기**

1. XCode에서 [XCode] > [Settings] 를 클릭하세요.
2. [Locations] 탭으로 이동한 뒤, Command Line Tools 항목의 버전을 확인하세요.

### 4. 시뮬레이터 실행

Xcode 설치와 설정이 끝났다면 시뮬레이터를 실행해서 테스트 환경이 준비되었는지 확인해 보세요.

1. XCode 상단 메뉴에서 [XCode] > [Open Developer Tool] > [Simulator] 를 선택하세요.
2. 실행된 시뮬레이터에서 iOS 15 이상의 버전을 사용할 수 있는지 확인하세요.

**시뮬레이터가 보이지 않는다면?**

시뮬레이터가 실행되지 않거나 보이지 않을 경우, 아래 단계를 따라 실행해 보세요.

1. Simulator 앱을 열어요.
2. 상단 메뉴에서 [File] > [Open Simulator] 를 클릭하세요.
3. iOS 15 이상 버전을 선택한 뒤, 원하는 기기를 선택하세요.

### 5. 앱인토스 샌드박스 앱 설치 (iOS 시뮬레이터)

#### 앱인토스 샌드박스 앱 다운로드 받기

- [앱인토스 샌드박스 앱 다운로드](/development/test/sandbox)

#### 앱 설치하기

1. 다운로드한 **앱인토스 샌드박스 앱 파일을 시뮬레이터 화면으로 드래그 앤드 드롭**하세요.
2. 설치가 완료되면 앱이 시뮬레이터 홈 화면에 표시돼요.

앱 설치 후 완료되기까지 약간의 시간이 걸릴 수 있어요. 잠시 기다려 주세요.

### 6. 실기기 설치 (iOS)

앱인토스 샌드박스 앱은 **앱스토어에서 다운로드받을 수 있어요.**
아래 가이드를 따라 iOS 실기기에 설치해 주세요.

- [앱인토스 샌드박스 앱 다운로드](/development/test/sandbox)

---

## 4. 토스앱 테스트 (번들 업로드 및 QR 테스트)

> 원본 URL: https://developers-apps-in-toss.toss.im/development/test/toss.md

샌드박스 앱에서 테스트가 완료되었다면,
**앱 번들(.ait)** 파일을 업로드하고 생성된 **테스트용 앱스킴**을 통해 **토스앱에서 최종 테스트**를 진행할 수 있어요.

### 1. 앱 번들 파일 생성

앱 번들은 `.ait` 확장자를 가진 파일로, 빌드된 프로젝트를 패키징한 결과물이에요.
아래 명령어를 실행해 앱 번들을 생성하세요.
빌드가 완료되면 프로젝트 루트 디렉토리에 `<서비스명>.ait` 파일이 생성돼요.

```sh
# npm
npm run build

# pnpm
pnpm build

# yarn
yarn build
```

### 2. 앱 번들 업로드 및 토스앱 테스트

앱 번들을 업로드하고 토스앱에서 테스트하는 방법은 두 가지예요.

1. **콘솔에서 직접 업로드 + QR 코드 테스트**
2. **CI/CD 명령어를 통한 자동 업로드**

> **앱 번들 용량 정책**
>
> - 앱 번들은 **압축 해제 기준 100MB 이하**만 업로드할 수 있어요.
> - 모든 리소스(이미지, 사운드, 영상 등)을 포함하면 용량을 초과할 수 있어요.
> - **리소스 파일은 빌드와 분리**하여 관리하세요.
>
> **권장 사항**
> 1. 앱 실행에 필요한 최소 리소스만 번들에 포함하세요.
> 2. 대용량 리소스는 **외부 스토리지 또는 CDN**에서 다운로드하도록 구성해 주세요.
> 3. 추가 리소스는 **단계적 다운로드(Lazy Loading)** 방식을 적용하면 사용자 경험이 향상돼요.

#### 방법 1: 콘솔에서 앱 번들 업로드 및 QR 테스트하기

1. 콘솔에 **앱 번들(.ait)** 파일을 업로드하세요.

> **앱 번들 파일 업로드가 안되시나요?**
> 앱이 정상적으로 빌드되었는지 확인해 주세요.
> `npm run build` 로 생성된 번들이 아니거나 프로젝트 구조가 올바르지 않은 경우,
> 앱 번들 컴파일이 실패하여 업로드가 되지 않아요.

2. 업로드가 완료되면 **테스트용 스킴 및 QR 코드**가 자동으로 생성돼요.

> 접속 경로:
> 워크스페이스 선택 → 앱 선택 → 좌측 메뉴에서 **앱 출시**

앱 번들을 업로드한 후 **'테스트하기'** 버튼을 클릭하면 콘솔에서 **토스앱 테스트용 QR 코드**를 확인할 수 있어요.
QR 코드를 스캔하면 **토스앱 내에서 미니앱이 실행**돼요.

QR 코드 테스트는 아래 조건을 충족해야 실행돼요.

- 토스앱에 로그인이 되어있어야 해요.
- 워크스페이스 멤버여야 해요.
- 만 19세 이상 사용자만 테스트 가능해요.

워크스페이스 멤버 전체에게 **푸시 알림을 발송**하여 테스트 참여를 유도할 수도 있어요.
테스트 스킴(`intoss-private://`)을 직접 실행하여 테스트할 수도 있어요.

> **테스트를 최소 1번 이상 완료해주세요**
> 테스트를 최소 1회 이상 완료해야 검토 요청을 진행할 수 있어요.

#### 방법 2: CI/CD 명령어 사용하기

콘솔에 접속하지 않고 CLI를 통해 앱 번들을 업로드할 수 있어요.

먼저 콘솔에서 **API 키를 발급**해주세요.
전체 앱 또는 특정 앱 단위로 접근 권한을 설정할 수 있어요.

> 접속 경로:
> 워크스페이스 선택 → 좌측 메뉴에서 **키**

아래 명령어를 실행해 앱 번들을 업로드하세요.
정상적으로 업로드가 되었다면, 테스트용 앱스킴을 확인할 수 있어요.

```
npx ait deploy --api-key {API 키}
```

API 키를 등록해두면 반복 입력할 필요가 없어요.

```
npx ait token add
npx ait deploy
```

필요에 따라 아래 명령어를 사용해보세요.

| 명령어                                      | 용도                 |
| ------------------------------------------- | -------------------- |
| npx ait token --help                        | 도움말 보기          |
| npx ait token add [워크스페이스명] [API 키] | 토큰 등록하기        |
| npx ait token remove [워크스페이스명]       | 등록된 토큰 삭제하기 |
| npx ait deploy [워크스페이스명] [API 키]    | 번들 업로드하기      |

### 3. 앱 출시 전 피처 테스트

`intoss://` 스킴은 **앱이 정식 출시된 이후에만 접근 가능해요.**
출시 전 기능 테스트를 위해서는 업로드 시 생성된 **테스트 스킴(QR 코드)** 를 활용해야 해요.

#### QR 코드에서 `deploymentId` 확인하기

앱 번들을 업로드할 때마다 새로운 `deploymentId`가 발급돼요.
테스트 스킴에서는 `_deploymentId` 는 필수 파라미터예요.

예시:

```
intoss-private://appsintoss?_deploymentId=0198c000-68c3-7d2b-0000-2c00000005ec
```

#### 스킴에 path/query 적용하여 테스트하기

하위 path를 적용한 경우:

```
intoss-private://appsintoss/path/pathpath?_deploymentId=0198c000-68c3-7d2b-0000-2c00000005ec
```

쿼리 파라미터를 적용한 경우 (queryParams는 반드시 URL-encoding이 필요해요):

```
intoss-private://appsintoss?_deploymentId=0198c000-68c3-7d2b-0000-2c00000005ec&queryParams=%7B%22categoryKey%22%3A%22
```

### 문제 해결 가이드

#### iOS에서 흰 화면이 보이나요?

샌드박스에서는 정상 동작하지만,
토스앱 내에서는 **메모리 또는 리소스 부족**으로 흰 화면이 표시될 수 있어요.

- 이미지·폰트 등 리소스 용량을 줄여 빌드 파일을 최적화하세요.
- 불필요한 객체, 메모리 누수를 점검해 주세요.

#### 토스앱에서 통신이 되지 않는 경우

**1. CORS 설정 확인**

Origin 허용 목록에 다음 도메인을 등록하세요.

- `https://<appName>.apps.tossmini.com` : 실제 서비스 환경
- `https://<appName>.private-apps.tossmini.com` : 콘솔 QR 테스트 환경

**2. App Transport Security (ATS) 설정 확인**

샌드박스에서는 HTTP 요청이 허용되지만, **라이브 환경에서는 HTTPS만 허용**됩니다.
HTTP 기반 API는 토스앱 내에서 차단됩니다.

**3. iOS 서드파티 쿠키 차단 정책 확인**

iOS/iPadOS 13.4 이상에서는 **서드파티 쿠키가 완전히 차단**돼요.
쿠키 기반 로그인 대신 **토큰 기반 인증 방식**을 적용하세요.

---

## 5. 디버깅 - React Native

> 원본 URL: https://developers-apps-in-toss.toss.im/learn-more/debugging.md

### 준비

React Native Debugger를 사용해서 JavaScript 디버깅을 하려면 Chrome 브라우저가 필요해요. 다음 링크로 브라우저를 다운로드 하세요.

- [Chrome 웹브라우저 다운로드 링크](https://www.google.com/intl/ko_kr/chrome/)

### Metro 개발 서버 실행

Metro 개발 서버는 React Native 애플리케이션을 개발할 때 코드 번들링, 핫 리로딩, 자원 제공 등의 역할을 해주는 번들러예요. 쉽게 말해서, 앱이 실행될 수 있도록 JavaScript 코드를 준비하고 관리하는 도구라고 생각하면 돼요.

다음 명령어로 Metro 개발 서버를 실행해서 디버깅을 시작해 볼게요.

```bash
yarn dev
# 또는
yarn bedrock dev
```

개발 서버가 실행됐다면, 터미널에서 `j` 키를 눌러 React Native Debugger를 열 수 있어요. 다만, Metro와 테스트 기기 간의 연결이 이루어진 상태에서만 React Native Debugger가 열려요.

### 탭 소개

Metro 개발 서버가 제공하는 디버깅 도구를 사용해서 편리하게 애플리케이션의 상태를 분석하고, 문제를 찾아 해결할 수 있어요.

- **Console**: [Console API](https://developer.mozilla.org/en-US/docs/Web/API/Console_API)를 통해 기록한 로그를 확인할 수 있어요. 또한, REPL(Read–Eval–Print Loop) 환경을 지원하기 때문에 코드를 입력하면 결과를 콘솔에서 확인할 수 있어요.
- **Source**: 현재 실행 중인 코드를 보고 중단점을 추가할 수 있어요.
- **Network**: 개발 서버에 연결된 서비스의 네트워크 활동을 확인할 수 있어요.
- **Memory**: Memory Snapshot을 기록해서 Hermes 엔진의 메모리 사용 상황을 프로파일링할 수 있어요.
- **Profiler**: 코드 실행 성능을 측정할 수 있는 도구예요.

### 기본 사용법

#### 디버깅 공통

React Native 디버거를 사용하면 코드에서 발생하는 문제를 쉽게 찾고 해결할 수 있어요. 특히 유용한 기능은 Breakpoints예요. 이 기능을 사용하면 코드가 중단된 시점의 상태를 확인할 수 있어요. 가장 기본적인 기능은 다음과 같아요.

1. **Resume**: 일시 정지된 코드를 다시 실행해요.
2. **Scope 정보**: 현재 Scope에 접근 할 수 있는 변수와 그 값을 확인할 수 있어요.
3. **Call Stack**: 코드가 실행된 순서와 호출된 함수 목록, Call Stack을 확인할 수 있어요.

일시정지된 시점에서 변수의 값을 바로 확인할 수도 있어요. 변수 위로 마우스 커서를 올리면 돼요.

#### debugger 키워드로 디버깅하기

또 다른 유용한 기능은 `debugger` 키워드예요. 이 키워드를 소스 코드에 추가하면 코드가 해당 지점에 도달했을 때 자동으로 중단되어 현재 상태를 살펴볼 수 있어요.

#### 중단점으로 디버깅하기

중단점을 설정해서 특정 위치에서 코드 실행을 멈추는 기능도 사용할 수 있어요. 중단점을 추가하려면 커맨드(Command) + `P` 키를 눌러 파일 검색 창을 띄우고, 확인하고 싶은 파일명을 입력하세요.

파일을 열었다면, 중단점을 설정하고 싶은 위치를 클릭해서 추가할 수 있어요. 중단점에 도달했을 때 코드 실행이 멈추면 현재 상태를 확인할 수 있어요.

#### 예외 상황 디버깅하기

코드에서 예외(에러)가 발생했을 때 자동으로 그 지점에서 일시 정지되도록 설정할 수 있어요. 이 기능을 사용하면 미리 예상하지 못한 에러와 그 원인을 쉽게 파악할 수 있죠.

이 기능은 Metro 디버거의 **Source 탭**에서 설정할 수 있어요. 우측 상단의 Breakpoints 섹션에서 **"Pause on uncaught exceptions"** 을 활성화하면 예기치 못한 예외 발생 시 코드가 자동으로 중단돼요. **"Pause on caught exceptions"** 을 활성화하면 모든 예외(핸들링 여부와 관계없이)에서 일시 정지할 수 있어요.

> **유의하세요**
> 서비스 코드에서 심각한 예외가 발생해 서비스가 완전히 중단된 후에 예외 Breakpoints가 제대로 동작하지 않는 버그가 있어요.
> 임시 해결 방법은 개발 서버와 React Native Debugger를 재시작하는 거예요.

### 네트워크 활동 검사

React Native 애플리케이션의 네트워크 활동을 기록하고 확인할 수 있는 네트워크 인스펙터 기능을 사용해 볼게요.

네트워크 인스펙터를 사용하면 요청과 응답 데이터를 포함한 네트워크 활동을 확인할 수 있어요. 이 도구를 사용하면 각 요청의 헤더와 응답 데이터를 상세히 분석할 수 있어요.

### 프로파일링

프로파일링 도구를 사용하면 React Native 애플리케이션의 메모리 사용량과 코드 실행 성능을 상세히 분석할 수 있어요. 이를 통해 성능 최적화와 메모리 누수 문제를 발견하고 해결할 수 있죠.

#### 메모리

메모리 프로파일링 기능은 메모리 사용량을 분석하고, 메모리 누수를 탐지하는 데 유용해요. 이 도구를 사용해 앱이 메모리를 어떻게 관리하고 있는지 확인할 수 있어요.

1. 먼저, 프로파일링 유형을 선택하세요.
2. **"Take snapshot"** 버튼을 눌러 스냅샷을 기록할 수 있어요.
3. 기록된 스냅샷을 보며 메모리 사용 상태를 분석하고 필요한 정보를 찾아요.

### 성능 측정

성능 측정 도구를 사용하면 코드의 실행 성능을 분석할 수 있어요. 이 기능은 성능 최적화가 필요한 부분을 식별하고 개선하는 데 유용해요.

### React DevTools로 디버깅하기

React DevTools는 React Native 애플리케이션의 컴포넌트 구조를 시각적으로 탐색하고 디버깅할 수 있는 도구예요. 디버깅 도구의 React DevTools에서 바로 사용할 수 있어요.

#### 기기와 연결하기

React DevTools를 사용하려면 먼저 개발 중인 애플리케이션의 연결이 필요해요.

서비스가 실행되기 전이라면 개발 모드에서 React Native 서비스를 실행해 주세요. 서비스가 이미 실행 중이라면, 개발 모드 RN 뷰를 **새로고침**해야 해요. `R` 키를 눌러서 새로고침해주세요.

안드로이드 기기를 사용한다면, `adb reverse tcp:8097 tcp:8097` 명령어를 입력해서 포트를 열어야 React DevTools가 정상적으로 동작해요. 만약 문제가 있다면 담당자에게 문의해주세요.

#### 사용 팁

**요소 인스펙팅**

특정 요소를 쉽게 찾고 확인할 수 있는 기능이에요. 요소 선택 버튼을 누른 뒤, 테스트 중인 기기에서 확인할 요소를 터치하면 React DevTools에서 해당 요소로 바로 이동해요.

**Prop 변경하기**

선택한 컴포넌트의 Prop(속성)을 확인하고, 실시간으로 변경할 수 있어요. 원하는 Prop을 더블 클릭한 뒤 값을 입력하면 바로 반영됩니다.

**Suspense 테스트하기**

Suspense 요소의 대기 상태를 시뮬레이션할 수 있는 기능이에요. 타이머 아이콘을 눌러 Suspense 대기 상태를 테스트해볼 수 있어요.

**상세 정보 로깅하기**

특정 요소의 세부 정보를 콘솔에서 확인할 수 있어요. 디버그 버튼을 누르면 선택한 요소의 세부 정보가 콘솔에 기록됩니다.

### 트러블슈팅

**연결 가능한 기기가 없다고 떠요**

React Native View가 나타나는 시점에 개발 서버와 기기가 연결됩니다. 만약 연결 가능한 기기가 없다고 뜬다면, 개발 서버가 제대로 빌드되고 있는지 확인해 보세요.

**REPL이 동작하지 않아요**

React Native의 버그로 인해 가끔 REPL이 멈추는 현상이 발생할 수 있어요. 이 문제를 해결하려면, 콘솔 탭 옆에 있는 눈 모양 아이콘을 클릭하고 입력 필드에 임의의 코드를 작성하고 평가해 보세요. 예를 들어 `__DEV__`, `1`, `undefined` 등의 코드를 입력하면 돼요.

**네트워크 인스펙터가 동작하지 않아요**

React Native 애플리케이션에서 여러 개의 인스턴스가 생성될 수 있는데, 현재 네트워크 인스펙터는 다중 인스턴스를 지원하지 않아요. 따라서 가장 최근에 생성된 인스턴스와만 데이터를 주고받게 됩니다. 이로 인해 소켓 커넥션이 꼬여 네이티브에서 전송하는 데이터를 인스펙터가 받지 못할 수 있어요.

이 문제를 해결하려면 다음을 시도해 보세요.

1. 앱을 완전히 종료해요.
2. 개발 서버를 중단하고 네트워크 인스펙터를 닫아요.
3. 앱을 다시 시작하고 `dev` 스크립트를 실행해 개발 서버를 재실행해요.

이 절차로도 문제가 해결되지 않으면, 담당자에게 제보해 주세요.

**기타 문제 발생 시**

1. 앱을 완전히 종료해요.
2. 개발 서버를 중단하고 네트워크 인스펙터를 닫아요.
3. 앱을 다시 시작하고 `dev` 스크립트를 실행해 개발 서버를 재실행해요.

이 절차로도 문제가 해결되지 않으면, 담당자에게 제보해 주세요.

---

## 6. 디버깅 - WebView

> 원본 URL: https://developers-apps-in-toss.toss.im/learn-more/debugging-webview.md

### Android & Chrome 환경

> **잠시만요**
> 디바이스에서 디버깅할 때는, 디바이스 설정에서 USB 디버깅을 활성화해야 해요.
> `설정 -> 시스템 -> 휴대전화 정보 -> 개발자 옵션 -> USB 디버깅 활성화`

**Chrome Devtools** 를 사용해 디버깅을 할 수 있어요.

1. Android 에뮬레이터나 실제 Android 기기에서 미니앱을 실행합니다.
2. Chrome 브라우저에서 `chrome://inspect/#devices` 페이지를 엽니다.
3. Devices 탭 Remote Target에 디버깅하고자 하는 WebView 콘텐츠 아래에 있는 **inspect** 버튼을 선택합니다.
4. 일반 웹 페이지를 디버깅하듯 WebView 콘텐츠를 디버깅할 수 있어요.

### iOS & Safari 환경

> **잠시만요**
>
> - 디바이스에서 디버깅할 때는, 디바이스 설정에서 Web Inspector(웹 검사기)를 활성화해야 해요.
>   - 설정 -> Safari -> 고급 -> Web Inspector 활성화
> - 개발자용 메뉴에 디바이스가 표시되지 않고, Safari를 시뮬레이터보다 먼저 실행한 경우에는 Safari를 재시작해 보세요.

iOS 시뮬레이터나 실제 디바이스에서 **Safari 개발자 도구(Developer Toolkit)** 를 사용하여 WebView 콘텐츠를 디버깅할 수 있습니다.

1. Safari 환경설정 -> "고급" 탭 -> "웹 개발자를 위한 기능 보기" 체크박스를 활성화해요.
2. iOS 시뮬레이터 또는 실제 iOS 디바이스에서 미니앱을 실행합니다.
3. Safari -> 상단바 개발자용 -> [디바이스 이름] -> [앱 이름] -> [URL - 제목]
4. 이제 웹에서 디버깅하듯 WebView 콘텐츠를 디버깅할 수 있습니다.

---

## 7. 미니앱 출시 (배포)

> 원본 URL: https://developers-apps-in-toss.toss.im/development/deploy.md

토스앱에서 최종 테스트를 마쳤다면,
앱인토스 콘솔에서 **검토를 요청**하고 **미니앱을 출시**할 수 있어요.

### 1. 사전 점검하기

#### 검수 가이드 확인하기

출시 전 반드시 **검수 가이드 및 체크리스트**를 확인하세요.
게임/비게임 출시 가이드를 모두 확인하여 개발이 완료되었는지 점검해 주세요.
가이드를 준수하지 않으면 **검토 단계에서 반려될 수 있어요.**

#### 앱 번들 업로드 시 주의사항

**용량 정책**

- 앱 번들은 압축 해제 기준 **100MB 이하**만 업로드할 수 있어요.
- 이미지, 사운드, 영상 등 모든 리소스를 포함하면 용량을 초과할 수 있어요.
- 리소스 파일은 **빌드와 분리**하여 관리해 주세요.

**권장 사항**

- 앱 실행에 필요한 **최소한의 리소스만 번들에 포함**하세요.
- 대용량 리소스는 **외부 스토리지 또는 CDN 다운로드** 방식으로 구성하는 것을 권장해요.
- 추가 리소스는 **단계적 다운로드(Lazy Loading)** 방식을 적용하면 사용자 경험이 더 좋아져요.

### 2. 검토 요청하기

테스트를 마친 뒤 콘솔의 **'검토 요청하기'** 버튼을 클릭하면 검토가 시작돼요.
검토는 **영업일 기준 최대 3일** 소요됩니다.

- **테스트를 1회 이상 완료한 경우에만** 검토 요청 버튼이 활성화됩니다.
- 검토 요청은 **한 번에 하나의 버전만** 제출할 수 있어요.

검토 요청 후 수정이 필요한 버그를 발견한 경우에는
**'요청 취소하기'** 버튼을 눌러 검토를 취소한 뒤,
수정된 **새로운 번들(.ait)** 을 업로드하고 다시 검토를 요청하세요.

#### 검토가 반려된 경우

'반려사유 보기' 버튼을 눌러 사유를 확인한 뒤,
문제를 해결하여 **새로운 번들을 업로드 후 다시 검토 요청**을 진행해 주세요.

반려 사유에 대해 추가로 문의 사항이 있다면 [채널톡](https://apps-in-toss.channel.io/workflows/787658)으로 문의하실 수 있어요.

### 3. 출시하기

번들이 승인되면 **검수 결과가 이메일로 안내**돼요.
이후 콘솔에서 **'출시하기'** 버튼을 클릭하면 미니앱이 사용자에게 공개됩니다.

> 출시 즉시 전체 사용자에게 반영되므로, 반드시 충분히 테스트한 뒤 출시하세요.

> **테스트 환경과 실제 환경 차이 안내**
>
> 테스트 환경과 실제 라이브 환경의 **CORS 정책 및 네트워크 동작**이 다를 수 있어요.
> 특히 아래 기능은 실제 환경에서도 반드시 동작을 다시 확인해 주세요.
>
> - 메모리/리소스 사용량
> - 네트워크 요청(CORS)
>   - Origin 허용 목록에 다음 도메인을 등록해야 해요.
>     - 실제 서비스 환경: `https://<appName>.apps.tossmini.com`
>     - QR 테스트 환경: `https://<appName>.private-apps.tossmini.com`
> - 권한 처리
> - 로그인/세션 유지
> - 실제 결제·인증 기능
>
> 테스트 환경에서는 정상이어도, 실제 환경에서는 오류가 발생할 수 있어요.

### 4. 출시 후 관리

출시 후에는 앱인토스 콘솔에서 버전 관리와 업데이트를 진행할 수 있어요.
필요에 따라 **새 번들을 업로드**하거나 **기존 버전을 유지·관리**할 수 있습니다.

#### 4-1. 새 버전(업데이트) 배포

- 새 기능을 추가하거나 오류를 수정한 경우, 기존과 동일한 방식으로 **새 앱 번들(.ait)** 을 업로드하세요.
- 업로드된 번들은 다시 **검토 요청 → 승인 → 출시** 단계를 거쳐요.
- 승인 후 **출시하기** 버튼을 누르면 새 버전이 기존 앱을 대체해요.

> 출시된 버전은 즉시 사용자에게 반영되므로, 사전에 충분한 테스트를 진행한 뒤 업로드하세요.

#### 4-2. 이전 버전 유지 및 롤백

- **'앱 출시'** 메뉴에서 기존에 출시된 버전 목록을 확인할 수 있어요.
- 문제가 발생하면 **이전 버전으로 롤백** 할 수 있어요.
- 롤백할 버전을 선택한 후 **'출시하기'** 버튼을 클릭하세요.

> 롤백 역시 사용자에게 즉시 반영되므로, 버전 선택 시 주의하세요.

#### 4-3. 긴급 수정(핫픽스)

- 앱 실행에 심각한 오류가 발생한 경우, **[채널톡](https://apps-in-toss.channel.io/workflows/787658)으로 즉시 문의**해 주세요.
- 긴급 상황에서는 신속히 대응합니다.

#### 4-4. 출시 후 모니터링

출시 직후에는 예상치 못한 오류나 성능 이슈가 발생할 수 있어요.
아래 항목을 중심으로 **출시 후 모니터링**을 권장해요.

- 주요 오류 로그 및 크래시 로그
- [Sentry 설정하기](/learn-more/sentry-monitoring.md)를 통한 Sentry 모니터링
- API 응답 지연/실패율
- 사용자 피드백 및 사용성 문제
  - 내비게이션 바의 '신고하기' 기능을 통해 사용자 의견을 받을 수 있어요.
  - 접수된 피드백은 콘솔의 '신고 내역' 메뉴에서 확인할 수 있어요.
- 외부 리소스/CDN 로딩 지연 또는 실패 이슈

---

## 8. 앱 내 기능 등록

> 원본 URL: https://developers-apps-in-toss.toss.im/development/test/function.md

콘솔의 **'앱 내 기능'** 은 사용자가 **검색 결과나 미니홈 화면에서 특정 기능으로 바로 진입**할 수 있도록 도와주는 기능이에요.
즉, 사용자가 홈 화면을 거치지 않고 특정 서비스의 세부 기능으로 이동할 수 있어요.

> 예시: '식단 기록하기' → 선택 시 홈 화면을 건너뛰고 곧바로 식단 기록 화면으로 이동

> **꼭 확인하세요**
>
> - **비게임 앱**은 앱 내 기능을 **최소 1개 이상 등록**해야 해요.
> - 앱 내 기능 검토에는 **영업일 기준 1~2일**이 소요될 수 있어요.

### 앱 내 기능 최초 등록하기 (신규 출시하는 앱)

미니앱을 최초로 출시하는 경우에는 앱을 출시할 때 앱 내 기능을 함께 등록할 수 있어요.

- **접속방법:** 앱인토스 콘솔 → 워크스페이스 선택 → 미니앱 선택 → 좌측 메뉴 '앱 출시' → '+ 등록하기' → ait 번들 업로드 후 입력 가능

#### 1. 앱 출시 메뉴에서 '등록하기'를 눌러서 번들을 등록해 주세요.

#### 2. 빌드한 ait 파일을 업로드 해주세요.

#### 3. 출시하기 전에 앱 내 기능을 함께 등록해 주세요.

- 사용자가 바로 접속 할 수 있는 기능의 이름과 이동할 `intoss://{{appName}}/pages` 를 입력해 주세요.
  - 쿼리 파라미터를 설정할 수 있어요.
- 토스 UX 라이팅을 기반으로 앱 내 기능은 **'~하기'** 또는 **'명사형'** 으로 작성해 주세요.
  - 예) '송금 내역 확인하기', '해외 송금하기', '여행 예약 내역 확인하기' 등
- 미니앱 서비스의 기능이 드러나게 작성해 주세요.
  - '예약 확인하기', '내역 확인', '보러가기', '시청하기' 등으로만 작성할 경우 무슨 서비스의 기능인지 사용자가 알기 어려워요.
- 미니앱 출시 검토와 함께 앱 내 기능 검토가 진행돼요.
- 실제 미니앱이 출시 되었을 때, 설정한 앱 내 기능이 정상적으로 접속이 되는지 꼭 확인해 주세요.

### 개발 환경별 피처 구성

#### 1. Webview

라우터 경로를 피처 주소와 매핑해요.

```tsx
<Route path="/search" element={<SearchPage />} />
```

피처 주소는 `intoss://{appName}/search`로 입력하면 해당 페이지로 이동할 수 있어요.

#### 2. React Native (Bedrock 기반)

Next.js 유사 **파일 기반 라우팅**을 사용해요.
`/pages/search.tsx` → `/search` 경로 매핑 → `intoss://{appName}/search`로 진입 시 렌더링

자세한 구조는 파일 기반 라우팅 이해하기 문서를 참고하세요.

#### 4. 검토 결과는 '앱 내 기능' 탭에서 확인할 수 있어요.

### 앱 내 기능 등록 및 수정하기 (이미 출시된 앱)

미니앱을 이미 출시한 경우라면 '앱 내 기능' 탭에서 앱 내 기능만 따로 등록/수정을 할 수 있어요.

- **접속방법:** 앱인토스 콘솔 → 워크스페이스 선택 → 미니앱 선택 → 좌측 메뉴 '앱 출시' → '앱 내 기능' 탭 선택
- 앱 내 기능만 따로 추가/수정하는 경우는 앱 내 기능만 검토하기 때문에 영업일 기준 1~2일이 소요 될수 있어요.
- 현재 운영 중인 미니앱에서도 새롭게 추가하거나 수정하는 경우, 앱 내 기능이 정상적으로 접속이 되는지 꼭 확인해 주세요.

#### 1. [수정하기] 버튼을 눌러 앱 내 기능을 수정할 수 있어요.

#### 2. 검토 결과는 '앱 내 기능' 탭에서 확인할 수 있어요.

---

## 9. 정산

> 원본 URL: https://developers-apps-in-toss.toss.im/settlement/intro.md

앱인토스의 정산은 서비스 운영과 수익 관리를 위해 꼭 이해해야 하는 핵심 과정이에요.
이 문서는 **정산 정보를 등록하는 방법부터 수익금을 받기까지의 흐름**을 한 번에 파악할 수 있도록 정리했어요.

### 정산을 받으려면 무엇을 등록해야 하나요

정산을 받으려면 아래 경로에서 정산 정보를 등록해야 해요.

- 콘솔 > 나의 워크스페이스 > 정보 > 정산 정보

등록한 정보는 세금계산서 발행과 정산금 지급에 사용돼요.
정산 정보를 등록할 때는 거래 계좌 사본이 필요하니 미리 준비해 주세요.
모든 정산은 앱 단위가 아니라 사업자 단위의 총 수익과 비용을 기준으로 진행해요.

---

### 1. 인앱 광고 정산 구조

인앱 광고 수익은 광고 송출 비용과 앱인토스 수수료를 차감한 뒤 정산돼요.

#### 광고 송출 비용 등 운영 수수료

앱인토스는 광고 송출을 위해 외부 미디에이션 플랫폼과 Toss Ads를 사용해요.
이 과정에서 광고 매출의 약 30% 수준을 운영비로 공제해요.

#### 외부 미디에이션 플랫폼

외부 미디에이션 플랫폼을 통해 광고가 송출되면, 플랫폼 수수료를 제외한 금액이 광고 수익이 돼요.

| 광고 매출 | 광고 수익 | 광고 수익 부가세 |
| --------- | --------- | ---------------- |
| ₩10,000   | ₩7,000    | ₩700             |

외부 플랫폼 사정으로 일부 광고 수익이 매체별로 정확히 집계되지 않는 경우에는,
해당 일자의 수익 비중에 따라 파트너사별로 나눠서 정산해요.

- (일 별 파트너사 당 광고 매체 수익 합계 / 일 별 유실 수익 총합) * 일별 유실 수익 총합 = 일 별 파트너사 당 유실된 광고 매체 수익

#### 토스 애즈

토스 애즈로 광고가 송출된 경우, 광고 매출(부가세 포함)에서 운영비 30%를 공제한 금액이 광고 수익이 돼요.

| 광고 매출 | 광고 수익 | 광고 수익 부가세 |
| --------- | --------- | ---------------- |
| ₩11,000   | ₩7,700    | ₩770             |

#### 앱인토스 수수료 (15%)

광고 수익에서 앱인토스 수수료 15%를 추가로 공제해요. 이 수수료는 광고 대행에 대한 비용이에요.
2026년 3월 31일까지 한시적으로 토스 수수료 0% 프로모션이 적용돼요.

#### 최종 정산금

최종 정산금은 아래 기준으로 계산돼요.

- 광고 수익(구글 애드몹, 토스 애즈)과 그에 대한 부가세를 더한 금액에서
- 앱인토스 수수료와 수수료 부가세를 뺀 금액

| 광고 수익 | 광고 수익 부가세 | 앱인토스 수수료 | 수수료 부가세 | 파트너사 정산금 |
| --------- | ---------------- | --------------- | ------------- | --------------- |
| ₩14,700   | ₩1,470           | ₩2,205          | ₩221          | ₩13,774         |

광고 수익은 파트너사의 매출로 신고해야 해요. 광고 수익에 대한 부가세는 정산금과 함께 지급돼요.

#### 정산 일정 (인앱 광고)

- 정산 내역 제공: **익월 1일**
- 정산금 지급: **익월 말 영업일**
  - 말일이 휴무일이면 직전 영업일에 지급돼요.
  - 세금계산서가 발행되지 않으면 지급이 지연될 수 있어요.

#### 세금계산서 발행 (인앱 광고)

인앱광고와 관련된 부가세는 **두 가지 유형**이 있어요.
각 유형별로 **세금계산서 발행 방식이 다르니**, 아래 내용을 꼭 확인해 주세요.

**① 광고 수익 부가세**

광고 수익에 대한 부가세는 **토스가 파트너사로 세금계산서를 역발행**해요.
파트너사에서 **팝빌을 통해 승인해야** 세금계산서가 최종 발행돼요.

> **세금계산서 역발행이란?**
> 토스가 세금계산서를 먼저 작성하고, 파트너사가 이를 확인한 뒤 승인하는 방식이에요.
>
> - **토스(공급받는 자)** 가 세금계산서를 작성해요.
> - **파트너사(공급자)** 가 승인해야 발행이 완료돼요.
> - 승인하지 않으면 세금계산서는 발행되지 않아요.

- **매월 1일:** 역발행 세금계산서에 대한 **승인 요청 메일**이 발송
- **승인 기한은 매월 영업일 기준 3일 이내예요.**
  - 기한 내 승인하지 않으면 **정산금 지급이 이월돼요**.
  - 승인 방법은 아래 (별첨) 역발행 세금계산서 승인 방법을 참고해 주세요.

※ 광고 수익 부가세는 별도로 지급하지 않고, 정산금 지급 시 정산금과 함께 포함해서 지급돼요.

**② 앱인토스 수수료 부가세**

- 앱인토스 수수료에 대한 부가세는 **토스가 선공제해요**.
- 세금계산서는 **토스가 직접 발행해요**.
- 세금계산서는 **매월 3영업일 이내에 발행돼요**.

#### (별첨) 역발행 세금계산서 승인 방법

**① 사전 준비 사항**

아래 사항이 모두 준비되어 있어야 승인 진행이 가능해요.

- **사업자 공동인증서(구 공인인증서)** 발급이 필요해요.
  - 은행 기준 연 4,400원이 발생해요.
- **팝빌 회원가입 및 공동인증서 등록**이 필요해요.
  - 가입 링크: https://www.popbill.com/Member/Type

> ※ 국세청 가이드라인에 따라 사업자 공동인증서 발급과 팝빌 등록은 필수예요.

**② 승인 방법**

1. 매월 1일에 발송되는 **역발행 세금계산서 승인 요청 메일**에서 **`[전자세금계산서 보기]`** 버튼을 클릭해요.
2. 팝빌 사이트에 로그인해요. (회원가입 및 공동인증서 등록이 완료되어 있어야 해요.)
3. **`전자세금계산서 > 매출문서함 > 발행대기`** 메뉴로 이동해요.
4. 역발행 세금계산서 내용을 확인한 뒤 **`[발행]`** 버튼을 클릭해요.
5. **사업자 공동인증서로 전자 승인**을 완료하면 세금계산서가 발행돼요.
6. 발행이 완료된 세금계산서는 **`전자세금계산서 > 매출문서함 > 발행`** 메뉴에서 확인할 수 있어요.

---

### 2. 인앱 결제 정산 구조

인앱 결제는 앱마켓 수수료와 토스 수수료가 함께 발생해요.
CBT 기간에는 한시적으로 토스 수수료 0%가 적용돼요.

#### 수수료 구성

- **앱마켓 수수료:** 공급가 기준 15% 또는 30%
  - 현재는 15%가 적용돼요.
  - 총 수익이 늘어나면 30%로 변경될 수 있어요.
- **토스 수수료:** 결제 금액 기준 5%

앱마켓에서 지급한 정산금에서 토스 수수료와 부가세를 제외한 금액이 파트너사에 지급돼요.

- 앱마켓 정산금은 서울 외국환중개소 매매기준율 최초고시환율을 기준으로 당월 말일자 환율을 적용하여 원화로 변환해요.

**[애플]**

| **결제 금액 (부가세포함)** | **(-)앱마켓 수수료(VAT 포함)** | **(-)토스 수수료** | **(-)토스 수수료 부가세** | **(=)파트너사 정산금** |
| -------------------------- | ------------------------------ | ------------------ | ------------------------- | ---------------------- |
| ₩11,000                    | ₩1,650                         | ₩550               | ₩55                       | ₩8,745                 |

**[구글]**

| **결제 금액 (부가세포함)** | **(-)앱마켓 수수료** | **(-)토스 수수료** | **(-)토스 수수료 부가세** | **(=)파트너사 정산금** |
| -------------------------- | -------------------- | ------------------ | ------------------------- | ---------------------- |
| ₩11,000                    | ₩1,500               | ₩550               | ₩55                       | ₩8,895                 |

#### 정산 일정 (인앱 결제)

- 정산 내역 제공: **익월 5일 이내**
- 정산금 지급: **익월 말 영업일**

앱인토스 콘솔 > 미니앱 > 좌측 수익화 메뉴 > 인앱 결제 > 정산 내역에서 확인할 수 있어요.

#### 세금계산서 (인앱 결제)

- 애플 수수료에는 부가세가 발생해요. 애플 대신 토스가 세금계산서를 발행해요.
- 토스 수수료에 대한 부가세는 토스가 선공제 후 발행해요.

#### 세금계산서 발행 (인앱 결제)

인앱 결제 정산과 관련해 세금계산서는 애플 수수료와 토스 수수료 기준으로 나뉘어요.

**① 애플 수수료에 대한 부가세**

- 구글 인앱 결제에는 별도의 부가세가 없어요.
- 애플은 마켓 수수료(15% 또는 30%)에 부가세가 발생해요.
- 애플은 파트너사에 세금계산서를 직접 발행하지 않아요. 그래서 토스가 대신 세금계산서를 발행해요.
- 애플 수수료에 대한 부가세는 애플 정산금에서 먼저 공제돼요.
- 공제된 부가세는 추후 환급받을 수 있어요.

**② 토스 수수료에 대한 부가세**

- 토스 수수료에 대한 부가세는 정산금 지급 시 토스가 선공제해요.
- 토스가 세금계산서를 직접 발행해요.

> **세금계산서 금액이 건별 정산 내역 합계와 다른 경우**
>
> - 세금계산서는 국세청 권고 기준에 맞춰 발행해요.
> - 2019년 5월 개정된 전자 세금계산서 시스템 지침에 따라, 부가세는 공급가액의 10%가 되도록 다시 계산해요.
> - 건별 정산 내역을 단순 합산해 세금계산서를 발행하면 국세청 권고 기준에 맞지 않을 수 있어요.
> - 그래서 월 단위 정산 내역을 기준으로 금액을 보정한 뒤, 해당 금액으로 세금계산서를 발행해요.

#### 현금 영수증

구글 기프트카드로 결제된 건은 파트너사가 결제일 기준 5일 이내에 현금 영수증을 발행해야 할 의무가 있어요.

- 2025년 12월 1일 이후에는 토스가 현금 영수증을 대행 발행해요. 별도로 발행하지 않아도 돼요.
  - 토스가 대행 발행한 금액은 앱인토스 콘솔 > 인앱 결제 > 정산 내역에서 확인할 수 있어요.
- 주문별로 기프트카드 결제 여부를 확인한 뒤, 결제 상태에 따라 현금 영수증을 발급하거나 취소해 주세요.
  - 결제 수단 정보는 결제 후 1~2일 뒤에 업데이트돼요.
  - 앱마켓 직권 취소 등으로 정산금에 포함되지 않는 환불 건은 결제 완료 건으로 처리해야 해요. 이 경우 현금 영수증을 취소하면 안 돼요. 익월 초에 제공되는 정산 리포트를 함께 참고해 주세요.
- 결제가 환불되면 해당 결제 건의 현금 영수증도 함께 취소돼요. 이 금액은 월별 집계 금액에서 차감돼요.
- 현금 영수증 발행과 취소 내역은 국세청 처리 일정에 따라 결제일 또는 환불일로부터 약 3영업일 후 집계에 반영될 수 있어요.

---

### 3. 해외 파트너사 정산 구조

해외 파트너사란, 국외에서 사업자를 등록한 파트너사를 의미해요.
해외 사업자는 세금계산서 대신 인보이스를 사용해요.

- 매출은 원화(KRW) 기준으로 집계해요.
- 정산금은 기본적으로 송금 당일 하나은행 최초 고시환율을 적용해 미국 달러(USD)로 지급해요.
  - 원화(KRW)로 정산금을 받고 싶다면, 거래처 등록 시 자유원 계좌를 등록해야 해요.
- 정산금을 USD로 지급할 때는 송금 수수료가 발생해요.
  - 한국에서 발생하는 송금 수수료는 토스가 부담해요.
  - 그 외 해외 구간에서 발생하는 수수료는 파트너사가 부담해요.
  - 송금 수수료 부담 방식을 변경해야 한다면, 앱인토스와 별도로 협의할 수 있어요.

---

### 4. 비즈 월렛

비즈 월렛은 토스 안에서 프로모션을 운영하기 위해 미리 충전해 두는 금액이에요.

- 프로모션에서 토스 포인트를 지급하거나 광고 푸시를 발송할 때 사용해요.
- 현재는 신용카드(법인카드 포함)로만 충전할 수 있어요.

#### 사용 내역

사용 내역은 나의 워크스페이스 > 좌측 비즈 월렛 메뉴에서 아래 정보를 실시간으로 확인할 수 있어요.

- 당월 충전, 환불, 사용, 환급 내역
- 현재 사용할 수 있는 금액

**사용 내역과 관련해 아래 내용을 꼭 알아두세요.**

- 사용 항목은 마케팅이 등록되는 시점에 업데이트돼요. 실제로 사용자가 포인트를 받았는지 여부는 인보이스에서 확인해요.
- 환급 항목은 마케팅 등록 시 예상한 예산과 실제 사용한 예산의 차액이에요. 마케팅이 끝난 뒤 최대 1~2일 이내에 환급돼요.
- 현재 사용 가능한 금액은 `충전 금액 - (환불 금액 + 사용 금액) + 환급 금액`으로 계산해요. 이 금액은 실사용 금액이 아니라 사용 금액 기준이라, 인보이스 금액과 차이가 날 수 있어요.

#### 인보이스

인보이스는 나의 워크스페이스 > 좌측 비즈 월렛 메뉴 > 인보이스 보기에서 확인할 수 있어요.
인보이스에서는 월 단위 정산 기준 정보를 확인할 수 있고, 익월 1일에서 2일 사이에 업데이트돼요.

- 당월 충전, 환불, 실사용 내역
- 기초 잔액과 기말 잔액

---

### 5. 프로모션 (토스 포인트)

#### 과금 구조

- 프로모션을 등록하면, 설정한 예산만큼 비즈 월렛에서 먼저 차감돼요.
- 프로모션이 끝나면 실제로 사용한 예산을 기준으로 다시 계산하고, 남은 금액은 자동으로 환급돼요.
- 토스 포인트는 무상으로 지급하는 포인트예요. 그래서 부가세와 세금계산서는 발생하지 않아요.

---

### 6. 광고 푸시 요금

#### 과금 구조

광고 푸시 비용은 두 단계로 계산해요.

- 푸시를 등록할 때 `예상 발송 건수 × 건당 수수료` 기준으로 비즈 월렛에서 먼저 차감해요.
- 실제 발송이 끝나면 `발송에 성공한 건수 × 건당 수수료` 기준으로 다시 계산해요. 이때 차액은 자동으로 환급돼요.

| 발송 건수 | 건당 수수료 | 건당 부가세 | 건당 수수료(부가세 포함) | 발송 비용 |
| --------- | ----------- | ----------- | ------------------------ | --------- |
| 100       | ₩9          | ₩0.9        | ₩9.9                     | ₩990      |

#### 세금계산서 발행 (광고 푸시)

광고 푸시 비용에 대한 세금계산서는 실제 발송에 성공한 건수를 기준으로 계산해요.
세금계산서는 매월 3영업일까지 발행해요.
